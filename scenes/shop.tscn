[gd_scene load_steps=9 format=3 uid="uid://ch1l0jofkrynh"]

[ext_resource type="Script" path="res://scripts/shop.gd" id="1_qv16a"]
[ext_resource type="PackedScene" uid="uid://c71om0knvcngh" path="res://scenes/select_card.tscn" id="2_a4ssg"]
[ext_resource type="Theme" uid="uid://c21dhy264y6ty" path="res://assets/theme_large.tres" id="2_j5k0x"]
[ext_resource type="PackedScene" uid="uid://tj3ktedys5sh" path="res://scenes/shop_button.tscn" id="3_4jobj"]
[ext_resource type="Texture2D" uid="uid://i3hxrkvy84y4" path="res://assets/custom/Star.png" id="3_qfkoy"]
[ext_resource type="PackedScene" uid="uid://p2ueg06qde5w" path="res://scenes/shop_card.tscn" id="5_lq8rp"]
[ext_resource type="Resource" uid="uid://bx8fp28p3g0k3" path="res://data/seed/blueberry.tres" id="6_r2we6"]

[sub_resource type="Theme" id="Theme_55f4u"]

[node name="Shop" type="Node2D"]
z_index = 2
script = ExtResource("1_qv16a")

[node name="PanelContainer" type="PanelContainer" parent="."]
offset_right = 1920.0
offset_bottom = 1080.0
theme = ExtResource("2_j5k0x")

[node name="ShopContainer" type="VBoxContainer" parent="PanelContainer"]
custom_minimum_size = Vector2(1000, 500)
layout_mode = 2
theme = SubResource("Theme_55f4u")

[node name="Header" type="HBoxContainer" parent="PanelContainer/ShopContainer"]
layout_mode = 2

[node name="ShopTitle" type="Label" parent="PanelContainer/ShopContainer/Header"]
layout_mode = 2
text = "Shop"

[node name="MoneyLabel" type="Label" parent="PanelContainer/ShopContainer/Header"]
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="PanelContainer/ShopContainer/Header"]
layout_mode = 2
texture = ExtResource("3_qfkoy")
expand_mode = 2
stretch_mode = 4

[node name="CloseButton" type="Button" parent="PanelContainer/ShopContainer/Header"]
layout_mode = 2
size_flags_horizontal = 10
text = "Close"

[node name="ChoiceOne" type="HBoxContainer" parent="PanelContainer/ShopContainer"]
custom_minimum_size = Vector2(0, 350)
layout_mode = 2

[node name="Stock" type="HBoxContainer" parent="PanelContainer/ShopContainer/ChoiceOne"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 0

[node name="Reroll" parent="PanelContainer/ShopContainer/ChoiceOne" instance=ExtResource("3_4jobj")]
layout_mode = 2
text = "Reroll"
cost = -1
row = 1

[node name="ChoiceTwo" type="HBoxContainer" parent="PanelContainer/ShopContainer"]
custom_minimum_size = Vector2(0, 350)
layout_mode = 2

[node name="Stock" type="HBoxContainer" parent="PanelContainer/ShopContainer/ChoiceTwo"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 0

[node name="ShopCard" parent="PanelContainer/ShopContainer/ChoiceTwo/Stock" instance=ExtResource("5_lq8rp")]
layout_mode = 2
card_data = ExtResource("6_r2we6")

[node name="Reroll" parent="PanelContainer/ShopContainer/ChoiceTwo" instance=ExtResource("3_4jobj")]
layout_mode = 2
text = "Reroll"
cost = -1
row = 2

[node name="ChoiceThree" type="HBoxContainer" parent="PanelContainer/ShopContainer"]
custom_minimum_size = Vector2(0, 350)
layout_mode = 2

[node name="Stock" type="HBoxContainer" parent="PanelContainer/ShopContainer/ChoiceThree"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 0

[node name="ExpandFarm" parent="PanelContainer/ShopContainer/ChoiceThree/Stock" instance=ExtResource("3_4jobj")]
layout_mode = 2
text = "Expand Farm"

[node name="Energy Fr" parent="PanelContainer/ShopContainer/ChoiceThree/Stock" instance=ExtResource("3_4jobj")]
layout_mode = 2
text = "Energy Fragment"

[node name="MoreDraw" parent="PanelContainer/ShopContainer/ChoiceThree/Stock" instance=ExtResource("3_4jobj")]
layout_mode = 2
text = "Draw More"

[node name="Scrap" parent="PanelContainer/ShopContainer/ChoiceThree/Stock" instance=ExtResource("3_4jobj")]
layout_mode = 2
text = "Gain"
cost = 3

[node name="Reroll" parent="PanelContainer/ShopContainer/ChoiceThree" instance=ExtResource("3_4jobj")]
layout_mode = 2
text = "Reroll"
cost = -1

[node name="RemoveCardContainer" type="PanelContainer" parent="."]
visible = false
theme = ExtResource("2_j5k0x")

[node name="SelectCard" parent="RemoveCardContainer" instance=ExtResource("2_a4ssg")]
layout_mode = 2

[connection signal="pressed" from="PanelContainer/ShopContainer/Header/CloseButton" to="." method="_on_close_button_pressed"]
[connection signal="option_selected" from="PanelContainer/ShopContainer/ChoiceOne/Reroll" to="." method="on_reroll"]
[connection signal="option_selected" from="PanelContainer/ShopContainer/ChoiceTwo/Reroll" to="." method="on_reroll"]
[connection signal="card_selected" from="RemoveCardContainer/SelectCard" to="." method="_on_card_remove_chosen"]
[connection signal="select_cancelled" from="RemoveCardContainer/SelectCard" to="." method="_on_card_remove_cancelled"]
